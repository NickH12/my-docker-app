name: Debug Auth

on: [push]

jobs:
  debug-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Check Secrets
        run: |
          echo "--------------------------------------"
          echo "USERNAME SECRET STATUS:"
          if [ -z "${{ secrets.DOCKER_USERNAME }}" ]; then
            echo "❌ CRITICAL: DOCKER_USERNAME is EMPTY! Check the name in GitHub Settings."
          else
            echo "✅ DOCKER_USERNAME found (Length: ${#MY_USER})"
            echo "   Value: ${{ secrets.DOCKER_USERNAME }}" 
          fi
          
          echo "PASSWORD SECRET STATUS:"
          if [ -z "${{ secrets.DOCKER_PASSWORD }}" ]; then
            echo "❌ CRITICAL: DOCKER_PASSWORD is EMPTY! Check the name in GitHub Settings."
          else
            echo "✅ DOCKER_PASSWORD found (Length: ${#MY_PASS})"
          fi
          echo "--------------------------------------"
        env:
          MY_USER: ${{ secrets.DOCKER_USERNAME }}
          MY_PASS: ${{ secrets.DOCKER_PASSWORD }}

      - name: Try Login
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}